<!DOCTYPE html>
<html>
<head>
  <title>Treasure Tax</title>
  <style>
    body {
      margin:0;
      background:#0d0d0d;
      color:#e0e0e0;
      font-family:Arial, sans-serif;
      text-align:center;
    }

    #titleScreen, #gameScreen { display:none; }

    #titleScreen {
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      height:100vh;
      gap:25px;
      background:linear-gradient(135deg, #000, #1c1c1c);
    }

    h1 {
      font-size:3rem;
      letter-spacing:3px;
      text-shadow:0 0 10px #00f0ff;
    }

    #startBtn {
      padding:14px 30px;
      font-size:20px;
      cursor:pointer;
      background:#111;
      color:#00f0ff;
      border:2px solid #00f0ff;
      border-radius:8px;
      transition:0.2s;
      box-shadow:0 0 10px #00f0ff66;
    }

    #startBtn:hover {
      background:#00f0ff;
      color:#000;
      box-shadow:0 0 15px #00f0ff;
    }

    #board {
      display:grid;
      grid-template-columns:repeat(20, 40px);
      grid-template-rows:repeat(20, 40px);
      gap:3px;
      width:max-content;
      margin:20px auto;
      padding:10px;
      background:#111;
      border:2px solid #00f0ff;
      box-shadow:0 0 20px #00f0ff55;
    }

    .cell {
      width:40px;
      height:40px;
      background:#1a1a1a;
      border:1px solid #333;
      border-radius:3px;
      display:flex;
      justify-content:center;
      align-items:center;
      color:#00f0ff;
      font-size:12px;
    }

    .wall {
      background:#333;
      border:1px solid #555;
    }

    #controls {
      margin-top:20px;
    }

    button {
      margin:5px;
      padding:8px 15px;
      background:#111;
      color:#00f0ff;
      border:1px solid #00f0ff;
    }
  </style>
</head>

<body>

<div id="titleScreen">
  <h1>Treasure Tax</h1>
  <button id="startBtn">Enter Func Room</button>
</div>

<div id="gameScreen">
  <h2 style="color:#00f0ff;">Func Room</h2>
  <div id="board"></div>

  <div id="controls">
    <h3>Player 1</h3>
    <button onclick="movePlayer(1, 'up')">Up</button>
    <button onclick="movePlayer(1, 'left')">Left</button>
    <button onclick="movePlayer(1, 'right')">Right</button>
    <button onclick="movePlayer(1, 'down')">Down</button>

    <h3>Player 2</h3>
    <button onclick="movePlayer(2, 'up')">Up</button>
    <button onclick="movePlayer(2, 'left')">Left</button>
    <button onclick="movePlayer(2, 'right')">Right</button>
    <button onclick="movePlayer(2, 'down')">Down</button>
  </div>
</div>

<script>
  const size = 20;
  const board = document.getElementById("board");

  let walls = [];

  let p1 = { x: 0, y: size - 1 };
  let p2 = { x: size - 1, y: size - 1 };

  document.getElementById("startBtn").onclick = () => {
    titleScreen.style.display = "none";
    gameScreen.style.display = "block";
    generateWalls();
    drawBoard();
  };

  function generateWalls() {
    walls = [];
    for (let i = 0; i < 80; i++) {
      let wx = Math.floor(Math.random() * size);
      let wy = Math.floor(Math.random() * size);
      if ((wx === p1.x && wy === p1.y) || (wx === p2.x && wy === p2.y)) continue;
      walls.push({ x: wx, y: wy });
    }
  }

  function isWall(x, y) {
    return walls.some(w => w.x === x && w.y === y);
  }

  function drawBoard() {
    board.innerHTML = "";
    for (let y = 0; y < size; y++) {
      for (let x = 0; x < size; x++) {
        const cell = document.createElement("div");
        if (isWall(x, y)) cell.className = "cell wall";
        else cell.className = "cell";
        if (x === p1.x && y === p1.y) cell.textContent = "P1";
        if (x === p2.x && y === p2.y) cell.textContent = "P2";
        board.appendChild(cell);
      }
    }
  }

  function movePlayer(num, direction) {
    let p = num === 1 ? p1 : p2;
    let nx = p.x;
    let ny = p.y;

    if (direction === "up") ny--;
    if (direction === "down") ny++;
    if (direction === "left") nx--;
    if (direction === "right") nx++;

    if (nx < 0 || ny < 0 || nx >= size || ny >= size) return;
    if (isWall(nx, ny)) return;

    p.x = nx;
    p.y = ny;

    drawBoard();
  }
</script>

</body>
</html>
